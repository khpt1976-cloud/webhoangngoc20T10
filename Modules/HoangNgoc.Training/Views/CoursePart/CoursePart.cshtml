@model HoangNgoc.Training.Models.CoursePart

<div class="course-details">
    <div class="row">
        <div class="col-md-8">
            <div class="course-info">
                @if (!string.IsNullOrEmpty(Model.CourseCode.Text))
                {
                    <div class="course-code">
                        <strong>Course Code:</strong> @Model.CourseCode.Text
                    </div>
                }

                @if (!string.IsNullOrEmpty(Model.Description.Html))
                {
                    <div class="course-description">
                        @Html.Raw(Model.Description.Html)
                    </div>
                }

                @if (!string.IsNullOrEmpty(Model.Prerequisites.Text))
                {
                    <div class="course-prerequisites">
                        <h4>Prerequisites</h4>
                        <p>@Model.Prerequisites.Text</p>
                    </div>
                }

                @if (!string.IsNullOrEmpty(Model.LearningOutcomes.Text))
                {
                    <div class="course-outcomes">
                        <h4>Learning Outcomes</h4>
                        <p>@Model.LearningOutcomes.Text</p>
                    </div>
                }
            </div>
        </div>

        <div class="col-md-4">
            <div class="course-sidebar">
                @if (Model.ThumbnailImage.Paths.Any())
                {
                    <div class="course-thumbnail">
                        <img src="@Model.ThumbnailImage.Paths.First()" alt="Course Thumbnail" class="img-fluid" />
                    </div>
                }

                <div class="course-meta">
                    @if (!string.IsNullOrEmpty(Model.Duration.Text))
                    {
                        <div class="meta-item">
                            <i class="fas fa-clock"></i>
                            <span>Duration: @Model.Duration.Text</span>
                        </div>
                    }

                    @if (!string.IsNullOrEmpty(Model.Level.Text))
                    {
                        <div class="meta-item">
                            <i class="fas fa-signal"></i>
                            <span>Level: @Model.Level.Text</span>
                        </div>
                    }

                    @if (Model.Price.Value.HasValue && Model.Price.Value > 0)
                    {
                        <div class="meta-item">
                            <i class="fas fa-dollar-sign"></i>
                            <span>Price: $@Model.Price.Value</span>
                        </div>
                    }

                    @if (Model.MaxStudents.Value.HasValue)
                    {
                        <div class="meta-item">
                            <i class="fas fa-users"></i>
                            <span>Max Students: @Model.MaxStudents.Value</span>
                        </div>
                    }

                    @if (Model.CurrentStudents.Value.HasValue)
                    {
                        <div class="meta-item">
                            <i class="fas fa-user-graduate"></i>
                            <span>Enrolled: @Model.CurrentStudents.Value</span>
                        </div>
                    }

                    @if (Model.StartDate.Value.HasValue)
                    {
                        <div class="meta-item">
                            <i class="fas fa-calendar-start"></i>
                            <span>Start Date: @Model.StartDate.Value.Value.ToString("MMM dd, yyyy")</span>
                        </div>
                    }

                    @if (Model.EndDate.Value.HasValue)
                    {
                        <div class="meta-item">
                            <i class="fas fa-calendar-end"></i>
                            <span>End Date: @Model.EndDate.Value.Value.ToString("MMM dd, yyyy")</span>
                        </div>
                    }
                </div>

                @if (!string.IsNullOrEmpty(Model.Instructor.Text))
                {
                    <div class="instructor-info">
                        <h5>Instructor</h5>
                        @if (Model.InstructorPhoto.Paths.Any())
                        {
                            <img src="@Model.InstructorPhoto.Paths.First()" alt="Instructor Photo" class="instructor-photo" />
                        }
                        <div class="instructor-name">@Model.Instructor.Text</div>
                        @if (!string.IsNullOrEmpty(Model.InstructorBio.Text))
                        {
                            <div class="instructor-bio">@Model.InstructorBio.Text</div>
                        }
                    </div>
                }

                @if (Model.IsActive.Value == true)
                {
                    <div class="enrollment-section">
                        <button class="btn btn-primary btn-lg btn-block enroll-btn" data-course-id="@Model.ContentItem.ContentItemId">
                            Enroll Now
                        </button>
                    </div>
                }
            </div>
        </div>
    </div>
</div>

<style>
.course-details {
    margin: 20px 0;
}

.course-meta .meta-item {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
}

.course-meta .meta-item i {
    margin-right: 10px;
    width: 20px;
}

.instructor-info {
    margin-top: 20px;
    padding: 15px;
    background: #f8f9fa;
    border-radius: 5px;
}

.instructor-photo {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    object-fit: cover;
    margin-bottom: 10px;
}

.enrollment-section {
    margin-top: 20px;
}

.enroll-btn {
    width: 100%;
}
</style>